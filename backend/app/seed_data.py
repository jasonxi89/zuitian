from sqlalchemy.orm import Session
from app.models import Phrase


def seed_phrases(db: Session):
    """Populate database with initial pickup lines / 话术 data."""
    existing_count = db.query(Phrase).count()

    phrases = []

    # ==================== 开场白 (Openers) ====================
    openers = [
        "你好呀，看你头像很有品味，是自己拍的吗？",
        "我刚刚在想一个问题，然后就看到你了，问题突然就不重要了。",
        "你的朋友圈好有趣，我们是不是在哪见过？",
        "请问你是学美术的吗？因为你看起来像一幅画。",
        "冒昧打扰一下，你知道附近有什么好吃的吗？我初来乍到。",
        "你的名字怎么念？我想确认一下我心动的对象叫什么。",
        "嗨，我觉得我们有一个共同点——我们都在这里。",
        "你养宠物吗？我觉得你很适合养一只……我。",
        "我不太会聊天，但看到你就想试试。",
        "你好，我迷路了，能告诉我去你心里的路怎么走吗？",
        "你的眼睛好漂亮，里面有星星还是有我？",
        "你是不是偷了什么东西？因为你偷走了我的注意力。",
        "在吗？我想认识一个人，不多，就你一个。",
        "你相信一见钟情吗？还是我需要再经过你一次？",
        "我觉得你的笑容应该获得专利，太有感染力了。",
        "你好呀，缘分让我们在这里相遇，能认识一下吗？",
        "请问你是WiFi吗？因为我感觉我们之间有连接。",
        "我觉得我认识你，哦不对，是我想认识你。",
        "你的气质很特别，让人忍不住想多看几眼。",
        "嘿，你知道今天和昨天有什么不同吗？今天我遇见了你。",
        "你身上有一种让人想靠近的魔力，请问是什么香水？",
        "你好，我不是在搭讪，我只是在为我的未来打招呼。",
        "你是不是少了什么？少了我的微信号吧。",
        "你知道你和星星的区别吗？星星在天上，你在我心上。",
        "你看起来像我的下一个故事的开头。",
        "我本来想编一个搭讪的理由，但看到你我忘词了。",
        "你是哪里人？不对，你是我梦里的人。",
    ]
    for text in openers:
        phrases.append(Phrase(content=text, category="开场白", tags="搭讪,破冰", is_pickup_line=False))

    # ==================== 幽默回复 (Humorous Replies) ====================
    humorous = [
        "你这么可爱，是充了会员吗？",
        "和你聊天我的手机都变烫了，不知道是手机的问题还是你太火。",
        "你说你要减肥？不行，你已经够轻了，再轻就要飞到我心里了。",
        "我觉得你可以去当天气预报员，因为你一出现就是晴天。",
        "你是不是把我的身份证偷了？因为我的身份是你的人。",
        "你别对我笑了，我怕我忍不住亲你。",
        "如果可爱有重量的话，你一定超重了。",
        "你能不能别那么好看？我快要忘记刚才在想什么了。",
        "我觉得你应该去卖保险，因为你给了我安全感。",
        "你是不是把我的遥控器拿走了？因为我被你控制了。",
        "医生说我最近缺点什么，我看了看，嗯，缺你。",
        "你今天是不是偷偷P图了？比昨天还好看。",
        "我最近学了一道菜，想做给你吃——一碗真心面。",
        "你是不是会魔法？因为你每次出现我的嘴角就不自觉上扬。",
        "如果无聊有等级的话，没有你的时候我是SSR级别的。",
        "你能不能不要一直在我脑子里住着？房租你还没交呢。",
        "我在研究一个世界级难题——怎么能让你喜欢我。",
        "你知道我的手机有个毛病吗？里面全是你的照片。",
        "我最近在攒钱，攒来娶你的。",
        "你是不是外星人？因为你不像这个世界的人。",
        "我今天做了个梦，梦见你了，醒来发现是白日做梦。",
        "你说你困了？那快来我怀里，这里有24小时供暖。",
        "我上辈子一定拯救了银河系，这辈子才能遇见你。",
        "你怎么这么厉害，什么都不做就让我开心了。",
        "跟你聊天比游戏好玩多了，而且不需要充值。",
        "你是我见过最大的bug，因为你让我的心跳出了异常。",
    ]
    for text in humorous:
        phrases.append(Phrase(content=text, category="幽默回复", tags="搞笑,机智", is_pickup_line=False))

    # ==================== 土味情话 (Cheesy Pickup Lines) ====================
    cheesy = [
        "你知道你和太阳的区别是什么吗？太阳离我一亿五千万公里，你在我心里。",
        "我最近体重增加了，因为把你放在了心里。",
        "你猜我什么星座？我是为你量身定做的。",
        "你知道我为什么感冒了吗？因为我对你没有抵抗力。",
        "你是什么血型？你流的每一滴血我都心疼。",
        "我不是药神，但我是你的止疼片。",
        "你知道昨天是什么日子吗？是我爱上你的第一天。",
        "我点的外卖到了，是一辈子的喜欢。",
        "你今天特别奇怪——特别好看。",
        "你知道我的缺点是什么吗？缺点你。",
        "我给你变个魔术吧——变得更喜欢你了。",
        "你是不是偷走了我的心？请把它还给我，或者把你的给我。",
        "你的眼睛像星星一样，看一眼就会迷路。",
        "如果你是一道题，我愿意为你做一辈子。",
        "你知道我的心在哪里吗？在你那里。",
        "你有地图吗？因为我在你的眼睛里迷失了方向。",
        "我想牵你的手，从心动走到古稀。",
        "你是不是火？因为你让我的心在燃烧。",
        "我的手被划了一道口子，你猜怎么回事？被你的美貌所伤。",
        "世界上有两种很好看的人，一种是你，另一种是你在我身边的样子。",
        "我不是超人，但我想做你的男人。",
        "你是不是偷了彩虹的颜色？你比彩虹还好看。",
        "我觉得你应该去做明星，因为你在我心里已经是了。",
        "你知道我想吃什么吗？想吃你的醋。",
        "你知道我和你的距离是多少吗？就差一个拥抱。",
        "你是不是困了？因为你一直在我脑海里跑了一天了。",
        "我想在你心里建一座房子，这样你就是我的房东了。",
        "你不用刻意温柔，你站在那里就是诗。",
        "从今天起，风筹划快乐，我筹划爱你。",
        "你闻到空气中有什么味道吗？有我喜欢你的味道。",
    ]
    for text in cheesy:
        phrases.append(Phrase(content=text, category="土味情话", tags="土味,甜蜜", is_pickup_line=True))

    # ==================== 表白句子 (Confession Lines) ====================
    confessions = [
        "我喜欢你，不是三分钟热度，是蓄谋已久。",
        "遇见你之前，我没想过结婚；遇见你之后，我没想过别人。",
        "我想牵你的手，走过春夏秋冬，走过一生一世。",
        "我不知道什么是喜欢，直到遇见了你才明白。",
        "如果全世界都在下雨，我只想为你撑一把伞。",
        "你是我的意中人，我想把这个秘密告诉你。",
        "我想做你的专属，你也是我一个人的。",
        "喜欢你这件事，我从来没有假装过。",
        "我喜欢你，从你的名字开始。",
        "你不用太好，我喜欢就好；我没有太好，你别嫌弃就好。",
        "我把喜欢写在风里，风吹到了你心里。",
        "如果可以的话，我想成为你最后的归宿。",
        "余生太长，我想牵着你的手一起走。",
        "第一次见你的时候，我就知道我栽了。",
        "你就是答案，不管我的问题是什么。",
        "我不想做你的眼中人，我想做你的心上人。",
        "你是我最想要的未来。",
        "我想用余生来回答你值不值得被爱这个问题。",
        "我不想错过你，就像不想错过每一个和你在一起的机会。",
        "我想告诉你三个字，不是对不起，是我爱你。",
        "世间万物，我最喜欢你。",
        "你是例外，也是偏爱。",
        "我对你的喜欢，就像心跳一样，无法停止。",
        "希望以后的路，有我有你。",
        "我不要天上的星星，我要你。",
        "你是我遇见的最美好的意外。",
    ]
    for text in confessions:
        phrases.append(Phrase(content=text, category="表白句子", tags="表白,深情", is_pickup_line=False))

    # ==================== 暧昧升温 (Flirty Escalation) ====================
    flirty = [
        "你今天穿的这个颜色，很衬你的眼睛。",
        "每次看到你发消息，我都忍不住嘴角上扬。",
        "你知道你笑起来有多好看吗？我可以看一整天。",
        "最近有个人一直在我脑海里出现，你要不要猜猜是谁？",
        "你有没有觉得我们之间有一种说不清的默契？",
        "你不在的时候，我会偷偷翻你的朋友圈。",
        "跟你说话的时候，时间过得特别快。",
        "你发的每条消息我都看了好几遍才回复。",
        "我发现一个秘密，你对我好的时候我特别开心。",
        "你是不是也在等我的消息？我一直在等你的。",
        "如果你愿意的话，我想每天都跟你说晚安。",
        "我最近做了个梦，梦里只有你。",
        "你今天的照片很好看，我偷偷存了。",
        "你的声音好好听，能再说一遍吗？",
        "我发现你笑起来的时候，整个世界都亮了。",
        "你知道我为什么总是秒回你吗？因为我一直在等你。",
        "我觉得我们之间的距离，刚好差一个拥抱。",
        "你的头像我看了好多次，每次都觉得好看。",
        "今天天气好冷，要不要一起取暖？",
        "你有没有听到什么声音？那是我的心在为你跳。",
        "跟你在一起的时候，我总是不小心笑出声。",
        "你发的自拍我设成壁纸了，你不介意吧？",
        "你今天有点不一样，更好看了。",
        "我觉得你应该多自拍，这样我就能多看几张。",
        "如果我偷偷牵你的手，你会甩开还是握紧？",
        "你的存在就是我每天最期待的事。",
    ]
    for text in flirty:
        phrases.append(Phrase(content=text, category="暧昧升温", tags="暧昧,撩人", is_pickup_line=False))

    # ==================== 约会邀请 (Date Invitations) ====================
    date_invites = [
        "听说附近新开了一家很好吃的店，要不要一起去试试？",
        "周末有空吗？想约你出来走走。",
        "有一部电影我很想看，但一个人去没意思，你愿意陪我吗？",
        "天气这么好，不出来晒太阳可惜了，要不要一起？",
        "我发现一个超美的公园，想带你去看看。",
        "你说你喜欢吃火锅，那我们找个时间一起去呗？",
        "最近压力有点大，想找个人聊聊天，你有空吗？",
        "有一个展览很有意思，你要不要一起去看？",
        "我学了一道新菜，想做给你尝尝，周末有空吗？",
        "听说这个周末有个市集，要不要一起去逛逛？",
        "你喜欢喝咖啡还是奶茶？我请你。",
        "我找到了一个拍照超好看的地方，想带你去。",
        "今天晚上的月亮应该很好看，要不要一起去看？",
        "我想去爬山，但一个人有点无聊，你愿意当我的搭档吗？",
        "你有没有想去的地方？我们可以一起规划。",
        "周末我做了太多饭，一个人吃不完，你来帮我吧。",
        "你说你最近很无聊，那不如来找我玩啊。",
        "有个live house今晚有演出，一起去嗨吧。",
        "这个季节的花开得正好，要不要一起去赏花？",
        "我买了两张票，就差一个你了。",
        "天冷了，要不要约一杯热巧克力？",
        "你有多久没有看日落了？明天一起去吧。",
        "听说你喜欢甜品，我知道一家超棒的甜品店。",
        "你周末的行程是什么？有没有我的位置？",
        "我想带你去一个只有我知道的秘密基地。",
        "下次你想去哪里玩？我陪你。",
    ]
    for text in date_invites:
        phrases.append(Phrase(content=text, category="约会邀请", tags="约会,邀请", is_pickup_line=False))

    # ==================== 早安晚安 (Good Morning/Night) ====================
    greetings = [
        "早安，今天也是想你的一天。",
        "晚安，梦里见。",
        "早上好呀，今天的阳光很好，就像你的笑容。",
        "睡前最后一件事，是跟你说晚安。",
        "早安，希望你今天一切顺利，不顺利的话还有我。",
        "晚安，月亮不睡我不睡，我是你的秃头小宝贝。",
        "早上起来第一个想到的人是你，早安。",
        "晚安，记得盖好被子，梦里记得想我。",
        "今天辛苦了，早点休息，晚安。",
        "早安，新的一天，新的想你。",
        "晚安，今天的你也很棒。",
        "早安呀，起床了吗？我给你准备了一个虚拟的拥抱。",
        "星星都睡了，你也该睡了，晚安好梦。",
        "早安，窗外的鸟在叫，我在想你。",
        "今晚月色很美，但没有你好看，晚安。",
        "早安，希望今天所有的红灯都变绿灯，所有的好运都奔向你。",
        "晚安，我的梦有限，你是限定。",
        "早安，今天的早餐是想你加一杯牛奶。",
        "夜深了，好好休息，明天还要继续可爱。",
        "早安，日出很美，你比日出更美。",
        "晚安，我的被窝已经暖了，就差你了。",
        "早安，新的一天要元气满满哦。",
        "晚安，明天继续想你。",
        "早安，我的世界因为有你而特别美好。",
        "月亮代我亲亲你，晚安。",
        "早安，愿你所求皆如愿，所行皆坦途。",
    ]
    for text in greetings:
        phrases.append(Phrase(content=text, category="早安晚安", tags="早安,晚安,日常", is_pickup_line=False))

    # ==================== 节日祝福 (Holiday Greetings) ====================
    holidays = [
        "情人节快乐，今年的情人节有你才完整。",
        "新年快乐，新的一年我的愿望只有一个——你。",
        "七夕快乐，你是我唯一的牛郎/织女。",
        "圣诞快乐，你就是我最好的圣诞礼物。",
        "520快乐，我爱你不止在今天。",
        "元宵节快乐，你是我心里最甜的那颗汤圆。",
        "中秋快乐，月亮很圆，但没有你在身边就不圆满。",
        "你的生日快乐，愿你所有的愿望都实现，包括我。",
        "春节快乐，今年的烟花很美，但都不如你。",
        "国庆快乐，七天假期我只想和你一起度过。",
        "冬至快乐，天冷了记得多穿点，或者让我抱着你。",
        "跨年快乐，新年的第一秒我想和你一起倒数。",
        "白色情人节快乐，你愿意做我的唯一吗？",
        "妇女节快乐，你是最美的女孩。",
        "儿童节快乐，在我心里你永远像小孩一样可爱。",
        "端午节快乐，给你包了一个甜蜜的粽子。",
        "双十一快乐，购物车里最贵的是对你的想念。",
        "感恩节快乐，最想感谢的人是你，谢谢你出现在我的生命中。",
        "除夕快乐，团圆夜我最想和你团圆。",
        "平安夜快乐，送你一个苹果，祝你一生平安。",
        "腊八节快乐，比腊八粥更甜的是你。",
        "清明节，虽然不适合说快乐，但你在我就开心。",
        "劳动节快乐，喜欢你是我最甜蜜的劳动。",
        "教师节快乐，你教会了我什么是心动。",
        "万圣节快乐，今晚你不用变装，你本来就是最迷人的。",
        "小年快乐，新的一年想和你一起甜甜蜜蜜。",
    ]
    for text in holidays:
        phrases.append(Phrase(content=text, category="节日祝福", tags="节日,祝福,浪漫", is_pickup_line=False))

    # ==================== 高甜语录 (Sugar-sweet Lines) ====================
    sweet = [
        "想把世界上所有的温柔都给你，然后告诉你这还不够。",
        "你是我藏在心底的秘密，也是我说不出口的欢喜。",
        "遇见你以后，理想不再是骑马喝酒去天涯，而是在家煮饭，等你归来。",
        "你是落日弥漫的橘，天边透亮的星。",
        "我想变成你的手机，被你揣在怀里，捧在手心。",
        "以前觉得人生是一道证明题，遇见你之后发现是道送分题。",
        "你笑的样子像颗糖，甜到了我心里每个角落。",
        "见到你的第一眼，上帝就在我耳边说了四个字：在劫难逃。",
        "我对你的感觉，就像小时候听到冰淇淋车的铃声。",
        "你是我所有不安和小心翼翼的原因，也是我义无反顾的理由。",
        "如果你是一首歌，我愿意单曲循环一辈子。",
        "我这辈子最幸运的事，就是在最好的年纪遇见了你。",
        "世界很大，但我的世界只有你。",
        "被你喜欢是一件很了不起的事情。",
        "你是我的今天，也是我所有的明天。",
        "在遇见你之前，我对未来没有期待。",
        "你是心动的开始，也是心安的归处。",
        "我这个人不太懂浪漫，但想为你学。",
        "想把我的一切都给你，包括这颗一直为你跳动的心。",
        "如果时间能倒流，我还是会选择在那一天遇见你。",
        "你是我平淡生活里的一束光。",
        "你就是我一想到就会笑的名字。",
        "别人的晚安只是晚安，你的晚安是我一整晚的安。",
        "喜欢你是我做过最好的事。",
        "想和你从新鲜感走到归属感。",
    ]
    for text in sweet:
        phrases.append(Phrase(content=text, category="高甜语录", tags="甜蜜,深情,文艺", is_pickup_line=True))

    # ==================== 反差萌 (Unexpected Cute) ====================
    unexpected = [
        "我看起来很高冷吧？其实我一直在偷偷想你。",
        "虽然我嘴上说着随便，但我的随便只限于你。",
        "我不是话很多的人，但和你在一起就变成了话痨。",
        "我不爱吃甜的，但你说的每句话我都觉得甜。",
        "我很少夸人，但你值得所有好听的话。",
        "我不信星座，但如果你信，那我们一定很配。",
        "我社恐，但见到你就社牛了。",
        "我朋友圈从不发自拍，但想发和你的合照。",
        "我是个理科生，但爱上你这件事没有公式。",
        "别看我平时很理性，在你面前我智商为零。",
        "我不追星，但我追你。",
        "别人说我冷漠，但我对你的热情够烧开一壶水。",
        "我不喜欢逛街，但你说想去我就秒答应。",
        "我从不主动找人聊天，你是唯一的例外。",
        "我脾气很差，但对你永远没脾气。",
        "我不相信永远，但想和你试试。",
        "我一直觉得恋爱很麻烦，直到遇见你才觉得单身更麻烦。",
        "我说我不在乎，其实你的每条朋友圈我都看了三遍。",
        "我向来三分钟热度，喜欢你是个例外。",
        "我平时很独立，但在你面前想做个小朋友。",
        "我从不熬夜，但等你的消息可以等到天亮。",
        "我很少说好听的话，但想把所有情话都说给你听。",
        "我对谁都客气，但想对你撒娇。",
        "我不拍照，但想拍下和你在一起的每一刻。",
        "我这个人很怕热，但你靠近的时候我希望更近一点。",
    ]
    for text in unexpected:
        phrases.append(Phrase(content=text, category="反差萌", tags="反差,可爱,真诚", is_pickup_line=False))

    # ==================== 深夜emo (Late Night Feels) ====================
    emo = [
        "夜深了，忽然很想你，不知道你有没有在想我。",
        "每次听到好听的歌，都想分享给你。",
        "失眠的夜晚，想的全是你。",
        "如果思念有声音的话，你一定已经被我吵醒了。",
        "我不怕黑，但怕在黑夜里想你。",
        "我在等一个人，等到风景都看透，等到你点头。",
        "最怕深夜突然想你，却不能打扰你。",
        "我房间的灯坏了，但你的名字能点亮整个夜晚。",
        "有些话白天不敢说，只有在深夜才有勇气告诉你。",
        "今晚的月亮好圆，让我更想你了。",
        "我在写一封信，收件人是你，内容只有三个字。",
        "深夜的酒不如你的一个回头。",
        "我攒了一天的想念，在这个夜晚一起说给你听。",
        "你知道凌晨三点的天空是什么颜色吗？是想你的颜色。",
        "其实我没那么坚强，只是在你面前假装不在乎。",
        "你是我每个失眠的夜晚唯一的答案。",
        "如果可以，我想打一通深夜电话给你，什么都不说，就听你呼吸。",
        "想你的时候，连空气都是你的味道。",
        "每个不能见你的夜晚，都是煎熬。",
        "你是我凌晨的梦，是我清晨的光。",
        "如果我说我现在很想你，你会来找我吗？",
        "深夜适合想一个人，而我想的那个人就是你。",
        "我不是离不开你，只是有你在更好。",
        "你不在的夜晚，连梦都是空的。",
        "我把所有的深夜都给了你，你还我一个安眠就好。",
    ]
    for text in emo:
        phrases.append(Phrase(content=text, category="深夜emo", tags="深夜,思念,感性", is_pickup_line=False))

    # ==================== 神回复 (Witty Comebacks) ====================
    witty = [
        "「你怎么还不睡？」因为梦里没有你，不想睡。",
        "「你在干嘛？」在想你啊，还能干嘛。",
        "「你好无聊啊」对啊，所以才来找你，你是我的快乐源泉。",
        "「我生气了」那我帮你把气充满好不好？充满我对你的爱。",
        "「你喜欢我哪里？」喜欢你离我近一点的地方。",
        "「我们合适吗？」你在我心里就合适。",
        "「你是不是对谁都这样？」不是，只有你享受VIP服务。",
        "「你几岁了？」遇见你之前零岁，遇见你之后才开始算。",
        "「你最近在忙什么？」忙着想你，工作量还挺大的。",
        "「你是不是说谎？」我只对你说一种谎话——我不想你。",
        "「我们只是朋友」那我申请转正。",
        "「你有什么优点？」最大的优点就是喜欢你。",
        "「别闹了」你才闹呢，闹得我心里全是你。",
        "「你会做饭吗？」不会，但我会点外卖给你呀。",
        "「我要减肥」你一点都不胖，是我的心太小装不下你。",
        "「你好烦啊」烦你想我还是烦你也喜欢我？",
        "「你有对象了吗？」有了，就是正在和我说话的这个人。",
        "「我不信你说的」那我做给你看。",
        "「你怎么这么黏人？」因为你是我的胶水。",
        "「你了解我吗？」不了解，所以想花一辈子去了解。",
        "「我想静静」静静是谁？我不允许有情敌。",
        "「今天好累」那把你的累给我一半吧。",
        "「我不值得你喜欢」那你就变得更值得呀，我等你。",
        "「你是不是很闲？」不闲，我忙着喜欢你。",
        "「说个笑话听听」我不喜欢你——哈哈骗你的。",
    ]
    for text in witty:
        phrases.append(Phrase(content=text, category="神回复", tags="神回复,机智,幽默", is_pickup_line=False))

    if existing_count > 0:
        # Only add new categories that don't exist yet
        existing_categories = {c[0] for c in db.query(Phrase.category).distinct().all()}
        new_phrases = [p for p in phrases if p.category not in existing_categories]
        if new_phrases:
            db.add_all(new_phrases)
            db.commit()
        return

    db.add_all(phrases)
    db.commit()
